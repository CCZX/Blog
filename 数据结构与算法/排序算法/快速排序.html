<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <title>Document</title>
</head>
<body>
  <script>
    let quick = function (array, left, right) {
      let index;
      if (array.length > 1) {
        index = partition(array, left, right)
        console.log(index, left, right)
        // if (left < index - 1) {
        //   quick(array, left, index - 1)
        // }
        if (left < index - 1) {
          quick(array, left, index - 1)
        }
        if (index < right) {
          quick(array, index, right)
        }
      }
    }
    let partition = function (array, left, right) {
      let pivot = array[Math.floor((right + left) / 2)]
      console.log(array)
      let i = left
      let j = right
      while (i <= j){
        while (array[i] < pivot) {
          i++
        }
        while (array[j] > pivot) {
          j--
        }
        if (i <= j) {
          [array[i], array[j]] = [array[j], array[i]]
          i++
          j--
        }
      }
      return i
    }
    let arr = [1,5,7,4,3,6,2]
    // quick(arr, 0, 6)
  </script>
  <script>
    function quick1(arr, left, right) {
      let index
      if (arr.length > 1) {
        index = partition1(arr, left, right)
        if (left < index - 1) {
          quick1(arr, left, index-1)
        }
        if (index < right) {
          quick1(arr, index, right)
        }
      }
    }
    function partition1(arr, left, right) {
      let flag = Math.floor((left + right) / 2)
      let i = left
      let j = right
      while (i <= j) {
        console.log(arr)
        while (arr[i] < arr[flag]) {
          i++
        }
        while (arr[j] > arr[flag]) {
          j--
        }
        if (i <= j) {
          [arr[i], arr[j]] = [arr[j], arr[i]]
          i++
          j--
        }
      }
      return i
    }
    let arr1 = [3,1,4,2,6,5,7]
    quick1(arr1, 0, 6)
  </script>
</body>
</html>